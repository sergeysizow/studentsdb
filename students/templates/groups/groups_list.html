{% extends "students/base.html" %}
{% load i18n %}

{% load static from staticfiles %}

{% block meta_title %}{% trans "Groups" %}{% endblock meta_title %}

{% block title %}{% trans "Students Group" %}{% endblock title %}

{% block content %}

<!--suppress ALL -->

<a href="{% url 'groups_add' %}" class="btn btn-primary">{% trans "Add Group" %}</a>


<!-- Start Students Listing-->
<table class="table table-hover table-striped">

     {% with order_by=request.GET.order_by reverse=request.GET.reverse %}

    <thead>
    <tr>
        <th>#</th>

        <th><a href="{% url 'groups' %}?order_by=title{% if order_by == 'title' and reverse != '1' %}&amp;reverse=1{% endif %}">
            {% trans "Group" %}{% if order_by == 'title' and reverse != '1' %} &uarr;
            {% elif order_by == 'title' and reverse == '1' %} &darr;{% endif %}
        </a></th>

         <th>
            <a href="{% url 'groups' %}?order_by=leader{% if order_by == 'leader' and reverse != '1' %}&amp;reverse=1{% endif %}"
            >{% trans "Leader" %}{% if order_by == 'leader' and reverse != '1' %}&uarr;
                {% elif order_by == 'leader' and reverse == '1' %}&darr;
                {% endif %}
            </a>
         </th>

        <th>{% trans "Actions" %}</th>
    </tr>
    </thead>

    <tbody>

    {% for groups in groups %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td><a title="{% trans 'Edit' %}" href="{% url 'groups_edit' groups.id %}">{{groups.title}}</a></td>
        <td><a title="{% trans 'Edit' %}" href="{% url 'groups_edit' groups.id %}">{{groups.leader}}</a></td>
        <td>
            <div class="dropdown">
                <button class="btn btn-default dropdown-toggle"
                        type="button" data-toggle="dropdown">{% trans 'Action' %}
                    <span class="caret"></span>
                </button>

                <ul class="dropdown-menu" role="menu">
                    <li role="presentation">
                        <a role="menuitem" tabindex="-1"
                           href="{% url 'journal' %}">{% trans "Visiting" %}</a>
                    </li>

                    <li role="presentation">
                        <a role="menuitem" tabindex="-1"
                           href="{% url 'groups_edit' groups.id %}">{% trans "Edit" %}</a>
                    </li>

                    <li role="presentation">
                        <a role="menuitem" tabindex="-1"
                           href="{% url 'groups_delete' groups.id %}">{% trans "Delete" %}</a>
                    </li>
                </ul>
            </div>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<!-- End Students Listing-->
{% endwith %}

{% include 'includes/pagination.html' %}

{% endblock content %}
